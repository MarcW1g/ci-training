<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>Sigrid documentation</title>
        <meta name="viewport" content="initial-scale=1.0, width=device-width, user-scalable=no">
        <link rel="shortcut icon" type="image/x-icon" href="images/favicon.png" />
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;0,700;1,400&display=swap" />
        <style>
            {% include stylesheet.css %}
        </style>
    </head>
    
    <body>
        <div class="container">
            {% include menu.html %}
            <article>
                {{ content }}
            </article>
        </div>
        
        <script>
            function expandCurrentSection() {
                const sections = document.querySelectorAll(".toc input[type=checkbox]");
                const headers = document.querySelectorAll(".toc .category");
                const panels = document.querySelectorAll(".toc .pages");
            
                for (let i = 0; i < sections.length; i++) {
                    if (isCurrentSection(panels[i])) {
                        sections[i].checked = true;
                        headers[i].addClass("currentSection");
                        return;
                    }
                }          
            }
            
            function isCurrentSection(panel) {
                const pages = panel.querySelectorAll("a.page");
                const links = [...pages].map(link => link.getAttribute("href"));
                return links.some(link => document.location.pathname.startsWith(link));
            }
        
            document.addEventListener("DOMContentLoaded", event => expandCurrentSection());
        </script>
    </body>
</html>
